# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Lock

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UI, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –æ–≤–µ—Ä–ª–µ–µ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Lock` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é UI –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º. –û–Ω –º–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–≤–µ—Ä–ª–µ–∏ –∑–∞–≥—Ä—É–∑–∫–∏, —Ä–∞–∑–º—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º, –≤—ã–∑–æ–≤—ã API, —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–æ–≤ API, –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–≤–æ–π–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ UI –≤–æ –≤—Ä–µ–º—è –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø–ª–∞—Ç–µ–∂–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è
- **–ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã**: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–æ –≤—Ä–µ–º—è —à–∞–≥–æ–≤ –º–∞—Å—Ç–µ—Ä–∞ –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **–î–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ú–æ–¥–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–æ–∫—É—Å–æ–º –±–µ–∑ –ø–æ–ª–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–¥–∞–ª–µ–π
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—è –∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–≤–µ—Ä–ª–µ–µ–º**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –æ–≤–µ—Ä–ª–µ–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å–∞
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –≠—Ñ—Ñ–µ–∫—Ç—ã —Ä–∞–∑–º—ã—Ç–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏ –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ –≤—Ä–µ–º—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã ARIA –∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º —á—Ç–µ–Ω–∏—è —Å —ç–∫—Ä–∞–Ω–∞
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM –∏ –æ—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

## –¢–∏–ø—ã TypeScript

```typescript
import { ReactNode } from 'react';

/**
 * –ü—Ä–æ–ø—Å—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Lock
 */
interface LockProps {
  /** –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */
  children: ReactNode;

  /** –£—Å–ª–æ–≤–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
  when: boolean;

  /** –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–≤–µ—Ä–ª–µ—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏–Ω–Ω–µ—Ä, —Å–æ–æ–±—â–µ–Ω–∏–µ) */
  overlay?: ReactNode;

  /**
   * –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –ª–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
   * @default false
   */
  preventScroll?: boolean;

  /**
   * –ü—Ä–∏–º–µ–Ω—è—Ç—å –ª–∏ —ç—Ñ—Ñ–µ–∫—Ç —Ä–∞–∑–º—ã—Ç–∏—è –∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
   * @default false
   */
  blur?: boolean;

  /** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–≤–µ—Ä–ª–µ—è */
  overlayStyle?: React.CSSProperties;

  /** CSS –∫–ª–∞—Å—Å –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–≤–µ—Ä–ª–µ—è */
  overlayClassName?: string;
}

/** –¢–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Lock */
declare const Lock: React.FC<LockProps> & {
  displayName: string;
};
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π

```tsx
import { Lock } from 'ui-magic-core/lock';

function RegistrationForm() {
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    confirmPassword: ''
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);

    try {
      await submitRegistration(formData);
      showSuccessMessage('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
    }
 catch (error) {
      showErrorMessage('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
    }
 finally {
      setIsSubmitting(false);
    }
  };

  return (
    <div className="registration-container">
      <Lock
        when={isSubmitting}
        overlay={(
          <div className="loading-overlay">
            <div className="spinner" />
            <p>–°–æ–∑–¥–∞—ë–º –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç...</p>
            <p className="sub-text">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ</p>
          </div>
        )}
        preventScroll
        blur
        overlayStyle={{
          backgroundColor: 'rgba(255, 255, 255, 0.95)',
          backdropFilter: 'blur(4px)'
        }}
      >
        <form onSubmit={handleSubmit} className="registration-form">
          <h2>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>

          <div className="form-group">
            <label htmlFor="email">Email</label>
            <input
              id="email"
              type="email"
              value={formData.email}
              onChange={e => setFormData(prev => ({ ...prev, email: e.target.value }))}
              required
            />
          </div>

          <div className="form-group">
            <label htmlFor="password">–ü–∞—Ä–æ–ª—å</label>
            <input
              id="password"
              type="password"
              value={formData.password}
              onChange={e => setFormData(prev => ({ ...prev, password: e.target.value }))}
              required
            />
          </div>

          <div className="form-group">
            <label htmlFor="confirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
            <input
              id="confirmPassword"
              type="password"
              value={formData.confirmPassword}
              onChange={e => setFormData(prev => ({ ...prev, confirmPassword: e.target.value }))}
              required
            />
          </div>

          <button type="submit" className="submit-button">
            {isSubmitting ? '–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞...' : '–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç'}
          </button>
        </form>
      </Lock>
    </div>
  );
}
```

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

```tsx
import { Lock } from 'ui-magic-core/lock';

function FileUploader() {
  const [uploadProgress, setUploadProgress] = useState(0);
  const [isUploading, setIsUploading] = useState(false);
  const [uploadedFiles, setUploadedFiles] = useState<File[]>([]);

  const handleFileUpload = async (files: FileList) => {
    setIsUploading(true);
    setUploadProgress(0);

    try {
      for (let i = 0; i < files.length; i++) {
        const file = files[i];

        await uploadFile(file, (progress) => {
          const totalProgress = ((i + progress / 100) / files.length) * 100;
          setUploadProgress(totalProgress);
        });

        setUploadedFiles(prev => [...prev, file]);
      }

      showSuccessMessage('–í—Å–µ —Ñ–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
    }
 catch (error) {
      showErrorMessage('–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
    }
 finally {
      setIsUploading(false);
      setUploadProgress(0);
    }
  };

  return (
    <div className="file-uploader">
      <Lock
        when={isUploading}
        overlay={(
          <div className="upload-progress">
            <div className="progress-icon">üìÅ</div>
            <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</h3>
            <div className="progress-bar">
              <div
                className="progress-fill"
                style={{ width: `${progressZagruzki}%` }}
              />
            </div>
            <p>
{Math.round(progressZagruzki)}
% –ó–∞–≤–µ—Ä—à–µ–Ω–æ
            </p>
            <p className="progress-detail">
              {zagruzhennyeFajly.length}
{' '}
–∏–∑
{zagruzhennyeFajly.length + 1}
{' '}
—Ñ–∞–π–ª–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
            </p>
          </div>
        )}
        preventScroll
        overlayStyle={{
          backgroundColor: 'rgba(0, 0, 0, 0.8)',
          color: 'white'
        }}
      >
        <div className="upload-area">
          <h2>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã</h2>

          <div
            className="drop-zone"
            onDrop={(e) => {
              e.preventDefault();
              const files = e.dataTransfer.files;
              if (files.length > 0) {
                handleFileUpload(files);
              }
            }}
            onDragOver={e => e.preventDefault()}
          >
            <div className="drop-content">
              <div className="upload-icon">‚¨ÜÔ∏è</div>
              <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
              <input
                type="file"
                multiple
                onChange={(e) => {
                  if (e.target.files?.length) {
                    handleFileUpload(e.target.files);
                  }
                }}
                style={{ display: 'none' }}
                id="file-input"
              />
              <label htmlFor="file-input" className="browse-button">
                –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã
              </label>
            </div>
          </div>

          {zagruzhennyeFajly.length > 0 && (
            <div className="uploaded-files">
              <h3>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</h3>
              <ul>
                {zagruzhennyeFajly.map((file, index) => (
                  <li key={index} className="uploaded-file">
                    <span className="file-name">{file.name}</span>
                    <span className="file-size">
                      {(file.size / 1024).toFixed(1)}
{' '}
–ö–ë
                    </span>
                  </li>
                ))}
              </ul>
            </div>
          )}
        </div>
      </Lock>
    </div>
  );
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

```tsx
import { Lock } from 'ui-magic-core/lock';

function PaymentForm() {
  const [isProcessing, setIsProcessing] = useState(false);
  const [paymentStep, setPaymentStep] = useState<'payment' | 'processing' | 'complete'>('payment');
  const [orderDetails, setOrderDetails] = useState({
    total: 2999.99,
    currency: 'RUB',
    items: ['–ü—Ä–µ–º–∏—É–º –ø–ª–∞–Ω - 1 –≥–æ–¥']
  });

  const handlePayment = async (paymentData: any) => {
    setIsProcessing(true);
    setPaymentStep('processing');

    try {
      // –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞
      await new Promise(resolve => setTimeout(resolve, 3000));

      const result = await submitPayment(paymentData);

      if (result.success) {
        setPaymentStep('complete');
        // –î–µ—Ä–∂–∏–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–æ–º–µ–Ω—Ç –¥–ª—è –ø–æ–∫–∞–∑–∞ —É—Å–ø–µ—Ö–∞
        setTimeout(() => {
          setIsProcessing(false);
          redirectToThankYouPage();
        }, 2000);
      }
 else {
        throw new Error(result.error);
      }
    }
 catch (error) {
      setIsProcessing(false);
      setPaymentStep('payment');
      showErrorMessage('–ü–ª–∞—Ç—ë–∂ –Ω–µ —É–¥–∞–ª—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
    }
  };

  const getOverlayContent = () => {
    switch (paymentStep) {
      case 'processing':
        return (
          <div className="payment-processing">
            <div className="processing-animation">üí≥</div>
            <h3>–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞</h3>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–∞—à –ø–ª–∞—Ç—ë–∂...</p>
            <div className="security-note">
              üîí –í–∞—à –ø–ª–∞—Ç—ë–∂ –∑–∞—â–∏—â—ë–Ω 256-–±–∏—Ç–Ω—ã–º SSL —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
            </div>
          </div>
        );
      case 'complete':
        return (
          <div className="payment-success">
            <div className="success-icon">‚úÖ</div>
            <h3>–ü–ª–∞—Ç—ë–∂ —É—Å–ø–µ—à–µ–Ω!</h3>
            <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É</p>
            <p>–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç...</p>
          </div>
        );
      default:
        return null;
    }
  };

  return (
    <div className="checkout-container">
      <Lock
        when={isProcessing}
        overlay={getOverlayContent()}
        preventScroll
        blur
        overlayStyle={{
          backgroundColor: paymentStep === 'complete'
            ? 'rgba(76, 175, 80, 0.95)'
            : 'rgba(255, 255, 255, 0.95)',
          color: paymentStep === 'complete' ? 'white' : 'inherit'
        }}
      >
        <div className="checkout-form">
          <h2>–ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø–æ–∫—É–ø–∫—É</h2>

          <div className="order-summary">
            <h3>–°–≤–æ–¥–∫–∞ –∑–∞–∫–∞–∑–∞</h3>
            {orderDetails.items.map((item, index) => (
              <div key={index} className="order-item">
                <span>{item}</span>
                <span>
{orderDetails.total}
‚ÇΩ
                </span>
              </div>
            ))}
            <div className="order-total">
              <strong>
–ò—Ç–æ–≥–æ:
{orderDetails.total}
‚ÇΩ
              </strong>
            </div>
          </div>

          <div className="payment-form">
            <div className="form-group">
              <label>–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</label>
              <input type="text" placeholder="1234 5678 9012 3456" />
            </div>

            <div className="form-row">
              <div className="form-group">
                <label>–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
                <input type="text" placeholder="–ú–ú/–ì–ì" />
              </div>
              <div className="form-group">
                <label>CVC</label>
                <input type="text" placeholder="123" />
              </div>
            </div>

            <button
              onClick={() => handlePayment({ /* –¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞ */ })}
              className="pay-button"
              disabled={isProcessing}
            >
              {isProcessing ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : `–û–ø–ª–∞—Ç–∏—Ç—å ${orderDetails.total}‚ÇΩ`}
            </button>
          </div>
        </div>
      </Lock>
    </div>
  );
}
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

### LockProps

| –ü—Ä–æ–ø              | –¢–∏–ø                      | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|-------------------|--------------------------|--------------|--------------|-----------------------------------------------|
| `children`        | `ReactNode`              | ‚úÖ           | -            | –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏         |
| `when`            | `boolean`                | ‚úÖ           | -            | –£—Å–ª–æ–≤–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏   |
| `overlay`         | `ReactNode`              | ‚ùå           | -            | –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ       |
| `preventScroll`   | `boolean`                | ‚ùå           | `false`      | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –ª–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã          |
| `blur`            | `boolean`                | ‚ùå           | `false`      | –ü—Ä–∏–º–µ–Ω—è—Ç—å –ª–∏ —ç—Ñ—Ñ–µ–∫—Ç —Ä–∞–∑–º—ã—Ç–∏—è –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É      |
| `overlayStyle`    | `React.CSSProperties`    | ‚ùå           | -            | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–≤–µ—Ä–ª–µ—è  |
| `overlayClassName`| `string`                 | ‚ùå           | -            | CSS –∫–ª–∞—Å—Å –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–≤–µ—Ä–ª–µ—è               |

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã**: –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–≤–µ—Ä–ª–µ—è**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –ª—ë–≥–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–≤–µ—Ä–ª–µ—è
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**: –û—á–∏—â–∞–π—Ç–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
- **–ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –ª—É—á—à–µ–≥–æ UX

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- **–Ø—Å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–≤–µ—Ä–ª–µ—è
- **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**: –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –æ–≤–µ—Ä–ª–µ—è—Ö –æ—à–∏–±–æ–∫
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–≤–µ—Ä–ª–µ–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–∞

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ñ–æ–∫—É—Å –≤–æ –≤—Ä–µ–º—è —Ü–∏–∫–ª–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º —á—Ç–µ–Ω–∏—è —Å —ç–∫—Ä–∞–Ω–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ ARIA –º–µ—Ç–∫–∏
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- **–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è**: –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∞–Ω–∏–º–∞—Ü–∏–∏

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [`async`](../async/README.md) - –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- [`state`](../state/README.md) - –î–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [`gate`](../gate/README.md) - –î–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- [`memo`](../memo/README.md) - –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
