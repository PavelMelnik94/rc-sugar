# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Focus

–ú–æ—â–Ω—ã–π —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–æ–∫—É—Å–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º, —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –±–µ—Å—à–æ–≤–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Focus` –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è, –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Ñ–æ–∫—É—Å–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω render props, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–µ—Ç –≤–∞–º –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ñ–æ–∫—É—Å–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å–ª–æ–∂–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

–°–æ–∑–¥–∞–Ω–Ω—ã–π —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ accessibility-first, —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–∞–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º—ã—à–∏, —Ç–∞–∫ –∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –∑–∞—Ö–≤–∞—Ç —Ñ–æ–∫—É—Å–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º –∏ —Å–ª–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ñ–æ–∫—É—Å–∞.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- **–£–ª—É—á—à–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –≤ —Ñ–æ—Ä–º–∞—Ö –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º** –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö, –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–∞—Ö –∏ –æ–≤–µ—Ä–ª–µ—è—Ö
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ñ–æ–∫—É—Å–∞ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã** –∏ –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–≤–æ–¥–∞**, —Ç—Ä–µ–±—É—é—â–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ñ–æ–∫—É—Å–∞
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–∞—à–±–æ—Ä–¥–æ–≤** —Å –≥–æ—Ä—è—á–∏–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏
- **–ò–≥—Ä–æ–≤–æ–π UI** –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- **–ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç** –∏ –ø–æ–∏—Å–∫–æ–≤—ã–µ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–∞–±—É–ª—è—Ü–∏–∏** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç–æ–º —Ñ–æ–∫—É—Å–∞

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Focus` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React —Ö—É–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π —Ñ–æ–∫—É—Å–∞ –∏ –±–ª—é—Ä–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ render props. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Ñ–æ–∫—É—Å–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–∏—Å—Ç—ã–π API –¥–ª—è —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ–∫—É—Å–∞ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É—à–∞—Ç–µ–ª—è–º–∏ —Å–æ–±—ã—Ç–∏–π.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ, —Ç–∞–∫ –∏ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Ñ–æ–∫—É—Å–∞ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º.

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- **Render Props Pattern**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
- **Controlled Component Pattern**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞
- **Hook-based State Management**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç React —Ö—É–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Event Handler Composition**: –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–æ–±—ã—Ç–∏—è —Ñ–æ–∫—É—Å–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- **Accessibility Pattern**: –°–ª–µ–¥—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º WCAG –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º
- **Type Safety**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ —Ç–∏–ø–æ–≤

## TypeScript —Ç–∏–ø—ã

```typescript
/**
 * –ü—Ä–æ–ø—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Focus
 */
interface FocusProps {
  /**
   * Render —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
   * @param focused - –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞
   * @param bind - –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ onFocus –∏ onBlur
   * @param ref - Ref –æ–±—ä–µ–∫—Ç –¥–ª—è —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
   */
  children: (
    focused: boolean,
    bind: {
      onFocus: (event: React.FocusEvent) => void;
      onBlur: (event: React.FocusEvent) => void;
    },
    ref: React.RefObject<HTMLElement>
  ) => React.ReactNode;

  /**
   * –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞
   * @default false
   */
  defaultFocused?: boolean;

  /**
   * –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞
   */
  focused?: boolean;

  /**
   * –ö–æ–ª–ª–±—ç–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞
   */
  onFocusChange?: (focused: boolean, event: React.FocusEvent) => void;

  /**
   * –ö–æ–ª–ª–±—ç–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ–æ–∫—É—Å
   */
  onFocus?: (event: React.FocusEvent) => void;

  /**
   * –ö–æ–ª–ª–±—ç–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å
   */
  onBlur?: (event: React.FocusEvent) => void;

  /**
   * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ–∫—É—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
   * @default false
   */
  autoFocus?: boolean;

  /**
   * –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   * @default false
   */
  preventScroll?: boolean;

  /**
   * –ó–∞–¥–µ—Ä–∂–∫–∞ —Ñ–æ–∫—É—Å–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
   * @default 0
   */
  focusDelay?: number;

  /**
   * –ó–∞–¥–µ—Ä–∂–∫–∞ –±–ª—é—Ä–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
   * @default 0
   */
  blurDelay?: number;
}

/**
 * –û–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞
 */
interface FocusState {
  focused: boolean;
  lastFocusTime: number;
  lastBlurTime: number;
  focusCount: number;
}

/**
 * –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —Ñ–æ–∫—É—Å–∞
 */
interface FocusHandlers {
  onFocus: (event: React.FocusEvent) => void;
  onBlur: (event: React.FocusEvent) => void;
  focus: () => void;
  blur: () => void;
}
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

### –ü—Ä–æ–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Focus

| –ü—Ä–æ–ø | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|--------------|--------------|----------|
| `children` | `(focused: boolean, bind: FocusHandlers, ref: RefObject) => ReactNode` | ‚úÖ | - | Render —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ–ª—É—á–∞—é—â–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ |
| `defaultFocused` | `boolean` | ‚ùå | `false` | –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –¥–ª—è –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| `focused` | `boolean` | ‚ùå | - | –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ |
| `onFocusChange` | `(focused: boolean, event: FocusEvent) => void` | ‚ùå | - | –ö–æ–ª–ª–±—ç–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞ |
| `onFocus` | `(event: FocusEvent) => void` | ‚ùå | - | –ö–æ–ª–ª–±—ç–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ–æ–∫—É—Å |
| `onBlur` | `(event: FocusEvent) => void` | ‚ùå | - | –ö–æ–ª–ª–±—ç–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å |
| `autoFocus` | `boolean` | ‚ùå | `false` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ–∫—É—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ |
| `preventScroll` | `boolean` | ‚ùå | `false` | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–µ |
| `focusDelay` | `number` | ‚ùå | `0` | –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–±—ã—Ç–∏—è–º–∏ —Ñ–æ–∫—É—Å–∞ (–º—Å) |
| `blurDelay` | `number` | ‚ùå | `0` | –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–±—ã—Ç–∏—è–º–∏ –±–ª—é—Ä–∞ (–º—Å) |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Render Prop

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `focused` | `boolean` | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ |
| `bind` | `FocusHandlers` | –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∏ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| `ref` | `RefObject<HTMLElement>` | Ref –¥–ª—è —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ |

## –ü—Ä–∏–º–µ—Ä—ã

### –ë–∞–∑–æ–≤—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ñ–æ–∫—É—Å–∞
```tsx
import { Focus } from 'ui-magic-core';

function BasicInput() {
  return (
    <Focus>
      {(focused, bind) => (
        <input
          {...bind}
          placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–¥–µ—Å—å..."
          style={{
            borderColor: focused ? '#007acc' : '#ccc',
            boxShadow: focused ? '0 0 0 2px rgba(0, 122, 204, 0.3)' : 'none',
            outline: 'none',
            transition: 'all 0.2s ease'
          }}
        />
      )}
    </Focus>
  );
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Ñ–æ–∫—É—Å–∞
```tsx
import { Focus } from 'ui-magic-core';

interface FormFieldProps {
  label: string;
  error?: string;
  required?: boolean;
}

function FormField({ label, error, required }: FormFieldProps) {
  return (
    <Focus onFocusChange={focused => console.log('–§–æ–∫—É—Å –∏–∑–º–µ–Ω–µ–Ω:', focused)}>
      {(focused, bind, ref) => (
        <div className={`form-field ${focused ? 'focused' : ''} ${error ? 'error' : ''}`}>
          <label
            htmlFor={`field-${label}`}
            className={`form-label ${focused ? 'active' : ''}`}
          >
            {label}
{' '}
{required && <span className="required">*</span>}
          </label>

          <input
            {...bind}
            ref={ref}
            id={`field-${label}`}
            className="form-input"
            aria-invalid={!!error}
            aria-describedby={error ? `${label}-error` : undefined}
          />

          {error && (
            <span id={`${label}-error`} className="error-message" role="alert">
              {error}
            </span>
          )}

          <div className={`focus-indicator ${focused ? 'visible' : ''}`} />
        </div>
      )}
    </Focus>
  );
}
```

### –ü–æ–∏—Å–∫–æ–≤—ã–π –≤–≤–æ–¥ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ñ–æ–∫—É—Å–∞
```tsx
import { useState } from 'react';
import { Focus } from 'ui-magic-core';

function SearchInput() {
  const [query, setQuery] = useState('');
  const [suggestions, setSuggestions] = useState<string[]>([]);

  return (
    <Focus
      onFocus={() => setSuggestions(['React', 'TypeScript', 'JavaScript'])}
      onBlur={() => setTimeout(() => setSuggestions([]), 150)}
    >
      {(focused, bind) => (
        <div className="search-container">
          <div className="search-input-wrapper">
            <input
              {...bind}
              value={query}
              onChange={e => setQuery(e.target.value)}
              placeholder="–ü–æ–∏—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤..."
              className={`search-input ${focused ? 'focused' : ''}`}
            />
            <span className={`search-icon ${focused ? 'active' : ''}`}>
              üîç
            </span>
          </div>

          {focused && suggestions.length > 0 && (
            <div className="suggestions-dropdown">
              {suggestions
                .filter(s => s.toLowerCase().includes(query.toLowerCase()))
                .map((suggestion, index) => (
                  <div
                    key={suggestion}
                    className="suggestion-item"
                    onClick={() => setQuery(suggestion)}
                  >
                    {suggestion}
                  </div>
                ))}
            </div>
          )}
        </div>
      )}
    </Focus>
  );
}
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–æ–∫—É—Å–æ–º
```tsx
import { Focus } from 'ui-magic-core';

interface ActionButtonProps {
  variant: 'primary' | 'secondary' | 'danger';
  disabled?: boolean;
  onClick: () => void;
  children: React.ReactNode;
}

function ActionButton({ variant, disabled, onClick, children }: ActionButtonProps) {
  return (
    <Focus autoFocus={variant === 'primary'}>
      {(focused, bind) => (
        <button
          {...bind}
          onClick={onClick}
          disabled={disabled}
          className={`
            action-button
            action-button--${variant}
            ${focused ? 'action-button--focused' : ''}
            ${disabled ? 'action-button--disabled' : ''}
          `}
          aria-pressed={focused}
        >
          {children}
          {focused && <span className="focus-ring" />}
        </button>
      )}
    </Focus>
  );
}
```

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∑–∞—Ö–≤–∞—Ç–æ–º —Ñ–æ–∫—É—Å–∞
```tsx
import { useEffect, useRef } from 'react';
import { Focus } from 'ui-magic-core';

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
}

function Modal({ isOpen, onClose, title, children }: ModalProps) {
  const modalRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (isOpen) {
      // –ó–∞—Ö–≤–∞—Ç —Ñ–æ–∫—É—Å–∞ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      const focusableElements = modalRef.current?.querySelectorAll(
        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
      );

      if (focusableElements?.length) {
        (focusableElements[0] as HTMLElement).focus();
      }
    }
  }, [isOpen]);

  if (!isOpen)
return null;

  return (
    <div className="modal-overlay" onClick={onClose}>
      <Focus autoFocus>
        {(focused, bind) => (
          <div
            {...bind}
            ref={modalRef}
            className={`modal ${focused ? 'modal--focused' : ''}`}
            onClick={e => e.stopPropagation()}
            role="dialog"
            aria-modal="true"
            aria-labelledby="modal-title"
          >
            <header className="modal-header">
              <h2 id="modal-title">{title}</h2>
              <button
                className="modal-close"
                onClick={onClose}
                aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ"
              >
                √ó
              </button>
            </header>

            <div className="modal-content">
              {children}
            </div>

            <footer className="modal-footer">
              <button onClick={onClose}>–û—Ç–º–µ–Ω–∞</button>
              <button className="primary">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
            </footer>
          </div>
        )}
      </Focus>
    </div>
  );
}
```

### –î–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```tsx
import { useRef, useState } from 'react';
import { Focus } from 'ui-magic-core';

interface MenuItem {
  id: string;
  label: string;
  href?: string;
  children?: MenuItem[];
}

function NavigationMenu({ items }: { items: MenuItem[] }) {
  const [activeItem, setActiveItem] = useState<string | null>(null);

  return (
    <nav role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
      <ul className="nav-menu">
        {items.map(item => (
          <li key={item.id} className="nav-item">
            <Focus
              onFocusChange={(focused) => {
                if (focused)
setActiveItem(item.id);
              }}
            >
              {(focused, bind) => (
                <a
                  {...bind}
                  href={item.href}
                  className={`
                    nav-link
                    ${focused ? 'nav-link--focused' : ''}
                    ${activeItem === item.id ? 'nav-link--active' : ''}
                  `}
                  role="menuitem"
                  tabIndex={focused ? 0 : -1}
                >
                  {item.label}
                  {focused && <span className="focus-indicator" />}
                </a>
              )}
            </Focus>
          </li>
        ))}
      </ul>
    </nav>
  );
}
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
```tsx
import { Focus } from 'ui-magic-core';
import { useAnalytics } from './hooks/useAnalytics';

function AnalyticsButton({ trackingId, children }: { trackingId: string; children: React.ReactNode }) {
  const { track } = useAnalytics();

  return (
    <Focus
      onFocus={(event) => {
        track('button_focused', {
          trackingId,
          focusMethod: event.nativeEvent.isTrusted ? 'keyboard' : 'programmatic',
          timestamp: Date.now()
        });
      }}
      onBlur={(event) => {
        track('button_blurred', {
          trackingId,
          blurReason: event.relatedTarget ? 'next_element' : 'click_outside',
          timestamp: Date.now()
        });
      }}
    >
      {(focused, bind) => (
        <button
          {...bind}
          className={`analytics-button ${focused ? 'focused' : ''}`}
          data-tracking-id={trackingId}
        >
          {children}
          {focused && <span className="focus-analytics-indicator" />}
        </button>
      )}
    </Focus>
  );
}
```

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
2. **–ë–∞—Ç—á–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—ã—Å—Ç—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è —Ñ–æ–∫—É—Å–∞/–±–ª—é—Ä–∞ –±–∞—Ç—á–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ñ–æ–∫—É—Å–∞
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π –∏ —Ç–∞–π–º–µ—Ä—ã
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ref**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ ref –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö DOM –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ**: –í—Å–µ–≥–¥–∞ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤
2. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ —á–µ—Ç–∫–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ñ–æ–∫—É—Å–∞
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞—Ö–≤–∞—Ç —Ñ–æ–∫—É—Å–∞ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö –∏ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –¥–µ–±–∞—É–Ω—Å–∏–Ω–≥ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–æ–∫—É—Å–∞
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –∞—Å—Å–∏—Å—Ç–∏–≤–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏
6. **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ JavaScript

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

### –û—Ç —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º

**–î–æ:**
```tsx
function OldInput() {
  const [focused, setFocused] = useState(false);

  return (
    <input
      onFocus={() => setFocused(true)}
      onBlur={() => setFocused(false)}
      style={{ borderColor: focused ? 'blue' : 'gray' }}
    />
  );
}
```

**–ü–æ—Å–ª–µ:**
```tsx
function NewInput() {
  return (
    <Focus>
      {(focused, bind) => (
        <input
          {...bind}
          style={{ borderColor: focused ? 'blue' : 'gray' }}
        />
      )}
    </Focus>
  );
}
```

### –û—Ç useRef –∏ useEffect

**–î–æ:**
```tsx
function OldComponent() {
  const ref = useRef<HTMLInputElement>(null);
  const [focused, setFocused] = useState(false);

  useEffect(() => {
    const element = ref.current;
    if (!element)
return;

    const handleFocus = () => setFocused(true);
    const handleBlur = () => setFocused(false);

    element.addEventListener('focus', handleFocus);
    element.addEventListener('blur', handleBlur);

    return () => {
      element.removeEventListener('focus', handleFocus);
      element.removeEventListener('blur', handleBlur);
    };
  }, []);

  return <input ref={ref} />;
}
```

**–ü–æ—Å–ª–µ:**
```tsx
function NewComponent() {
  return (
    <Focus>
      {(focused, bind, ref) => (
        <input {...bind} ref={ref} />
      )}
    </Focus>
  );
}
```

## –û–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–æ—Ç–æ–∫ —Ñ–æ–∫—É—Å–∞ —Ñ–æ—Ä–º—ã
```tsx
function FormFocusFlow() {
  return (
    <form>
      <Focus autoFocus>
        {(focused, bind) => (
          <input {...bind} placeholder="–ü–µ—Ä–≤–æ–µ –ø–æ–ª–µ" />
        )}
      </Focus>

      <Focus>
        {(focused, bind) => (
          <input {...bind} placeholder="–í—Ç–æ—Ä–æ–µ –ø–æ–ª–µ" />
        )}
      </Focus>

      <Focus>
        {(focused, bind) => (
          <button {...bind} type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        )}
      </Focus>
    </form>
  );
}
```

### –£—Å–ª–æ–≤–Ω–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ñ–æ–∫—É—Å–∞
```tsx
function ConditionalFocus({ variant }: { variant: 'success' | 'error' | 'default' }) {
  return (
    <Focus>
      {(focused, bind) => (
        <input
          {...bind}
          className={`
            input-${variant}
            ${focused ? `input-${variant}--focused` : ''}
          `}
        />
      )}
    </Focus>
  );
}
```

### –§–æ–∫—É—Å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
```tsx
function ValidatedField({ validator }: { validator: (value: string) => string | null }) {
  const [value, setValue] = useState('');
  const [error, setError] = useState<string | null>(null);

  return (
    <Focus onBlur={() => setError(validator(value))}>
      {(focused, bind) => (
        <div>
          <input
            {...bind}
            value={value}
            onChange={e => setValue(e.target.value)}
            className={error ? 'input-error' : ''}
          />
          {error && <span className="error">{error}</span>}
        </div>
      )}
    </Focus>
  );
}
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [`State`](../state/README.ru.md) - –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [`Toggle`](../toggle/README.ru.md) - –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è boolean —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [`Maybe`](../maybe/README.ru.md) - –î–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- [`Show`](../show/README.ru.md) - –î–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [`Gate`](../gate/README.md) - –î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
